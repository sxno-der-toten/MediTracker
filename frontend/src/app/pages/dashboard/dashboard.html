<div class="container my-5 fade-in-card">
    
    <div class="mb-5">
        <h2 class="fw-bold mb-1">Dashboard</h2>
        <p class="text-secondary small">Vue d'ensemble de la plateforme</p>
    </div>

    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <div class="card border-0 shadow-sm p-4 text-center custom-stat-card">
                <p class="text-muted small fw-medium mb-2">Rendez-vous</p>
                <h3 class="fw-bold mb-0">{{ stats.appointments }}</h3>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card border-0 shadow-sm p-4 text-center custom-stat-card">
                <p class="text-muted small fw-medium mb-2">Médecins actifs</p>
                <h3 class="fw-bold mb-0">{{ stats.activeDoctors }}</h3>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card border-0 shadow-sm p-4 text-center custom-stat-card">
                <p class="text-muted small fw-medium mb-2">Médecins en attente</p>
                <h3 class="fw-bold mb-0">{{ stats.pendingDoctors }}</h3>
            </div>
        </div>
    </div>

    <div class="toggle-container mb-4">
        <button class="toggle-btn" 
                [class.active]="currentView === 'appointments'" 
                (click)="switchView('appointments')">
            Rendez-vous
        </button>
        <button class="toggle-btn" 
                [class.active]="currentView === 'doctors'" 
                (click)="switchView('doctors')">
            Médecins
        </button>
    </div>

    @if (currentView === 'appointments') {
        <div class="card border-0 shadow-sm p-4 p-md-5 custom-main-card fade-in">
            <div class="mb-4">
                <h5 class="fw-bold mb-1">Tous les rendez-vous (0)</h5>
                <p class="text-secondary small">Gérez les rendez-vous de la plateforme</p>
            </div>
            
            <div class="d-flex justify-content-center align-items-center py-5">
                <p class="text-muted small mb-0 py-5">Aucun rendez-vous enregistré.</p>
            </div>
        </div>
    }

    @else {
        <div class="card border-0 shadow-sm p-4 p-md-5 custom-main-card fade-in">
            <div class="mb-4">
                <h5 class="fw-bold mb-1">Médecins de la plateforme ({{ doctors.length }})</h5>
                <p class="text-secondary small">Liste des professionnels de santé</p>
            </div>

            <div class="d-flex flex-column gap-3">
                @for (doc of doctors; track $index) {
                    <div class="doctor-list-item d-flex align-items-center justify-content-between p-3 border rounded-3 bg-white">
                        
                        <div class="d-flex align-items-center gap-3">
                            <img [src]="doc.imageUrl" class="rounded-circle object-fit-cover" style="width: 50px; height: 50px;" alt="Photo">
                            <div>
                                <h6 class="fw-bold mb-0 small d-flex align-items-center gap-2">
                                    {{ doc.name }} <i class="bi bi-patch-check-fill text-primary" style="font-size: 0.8rem;"></i>
                                </h6>
                                <p class="text-muted mb-0" style="font-size: 0.75rem;">{{ doc.specialty }}</p>
                                <p class="text-muted mb-0" style="font-size: 0.75rem;">{{ doc.location }}</p>
                            </div>
                        </div>

                        <button class="btn btn-danger small fw-bold text-uppercase px-3 py-2 rounded-pill shadow-sm" 
                                style="font-size: 0.7rem; letter-spacing: 0.5px;"
                                (click)="suspendDoctor(doc.name)">
                            Suspendre le compte
                        </button>
                    </div>
                }
            </div>
        </div>
    }

</div>